<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Freunde - Disnord</title><link rel="stylesheet" href="/css/style.css"></head>
<body><div class="center-screen"><div class="card" style="width:500px; text-align:left">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
        <h2 style="margin:0">Online Nutzer</h2>
        <button class="icon" onclick="window.location.href='/'" style="background:#eee">✕</button>
    </div>
    <div id="ul" style="max-height:300px; overflow-y:auto; display:flex; flex-direction:column; gap:10px;">
        <p style="color:var(--text-muted)">Lade Nutzerliste...</p>
    </div>
</div></div><script src="/socket.io/socket.io.js"></script><script>
    const s=io();
    s.emit('join-chat', localStorage.getItem('disnord_user') || "Gast");
    s.on('update-user-list', u => {
        document.getElementById('ul').innerHTML = u.map(n => `
            <div style="padding:15px; background:#f9f9f9; border-radius:15px; display:flex; justify-content:space-between; align-items:center;">
                <span style="font-weight:600;">🟢 ${n}</span>
                <button onclick="chat('${n}')" style="background:var(--accent); color:white; border:none; padding:5px 12px; border-radius:10px; cursor:pointer;">Chat</button>
            </div>
        `).join('');
    });
    function chat(n){ localStorage.setItem('chat_with', n); window.location.href='/'; }
</script></body></html>
